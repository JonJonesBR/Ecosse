.viewport-mobile{--panel-width:100vw;--touch-target-size:44px;--button-padding:12px 16px;--element-grid-gap:8px}.viewport-tablet{--panel-width:320px;--touch-target-size:40px;--button-padding:10px 14px;--element-grid-gap:10px}.viewport-desktop{--panel-width:280px;--touch-target-size:32px;--button-padding:8px 12px;--element-grid-gap:12px}.panel-overlay{position:fixed !important;top:0;left:0;height:100vh;z-index:50;transform:translateX(-100%);transition:transform 0.3s ease-in-out;box-shadow:2px 0 10px rgba(0,0,0,0.3)}.panel-overlay.active{transform:translateX(0)}.panel-overlay#right-panel{left:auto;right:0;transform:translateX(100%)}.panel-overlay#right-panel.active{transform:translateX(0)}.panel-collapsible{position:relative;transition:width 0.3s ease-in-out}.panel-collapsible.collapsed{width:60px !important;overflow:hidden}.panel-inline{position:relative;flex-shrink:0}.position-fixed-bottom{position:fixed !important;bottom:0;left:0;right:0;transform:none !important;border-radius:1rem 1rem 0 0 !important;max-width:100vw !important;width:100% !important}.position-floating{position:fixed;bottom:20px;left:50%;transform:translateX(-50%)}.btn-large,.control-btn.btn-large,.element-item.btn-large{padding:14px 20px;font-size:1.1rem;min-height:44px;min-width:44px}.btn-medium,.control-btn.btn-medium,.element-item.btn-medium{padding:12px 16px;font-size:1rem;min-height:40px;min-width:40px}.touch-device .touch-friendly{position:relative;overflow:hidden}.touch-device .touch-friendly::before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;background:rgba(255,255,255,0.2);border-radius:50%;transform:translate(-50%,-50%);transition:width 0.3s ease,height 0.3s ease;pointer-events:none}.touch-device .touch-friendly.touch-active::before{width:100px;height:100px}.touch-device .touch-friendly:hover{transform:none}.compact-mode #bottom-panel{padding:8px 12px;border-radius:1.5rem}.compact-mode .element-grid{grid-template-columns:repeat(auto-fit,minmax(70px,1fr));gap:6px}.compact-mode .element-item{padding:6px 8px;font-size:0.85rem}.compact-mode .btn,.compact-mode .control-btn{padding:6px 10px;font-size:0.85rem}.simplified-navigation .complex-nav{display:none !important}.simplified-navigation .nav-item{font-size:1.1rem;padding:12px 16px}.landscape.viewport-mobile #bottom-panel{max-height:40vh !important;padding:8px 12px}.portrait.viewport-mobile #bottom-panel{max-height:50vh !important}.main-content.left-panel-open{margin-left:var(--panel-width)}.main-content.right-panel-open{margin-right:var(--panel-width)}.main-content.both-panels-open{margin-left:var(--panel-width);margin-right:var(--panel-width)}@media (max-width:768px){.main-content.left-panel-open,.main-content.right-panel-open,.main-content.both-panels-open{margin-left:0;margin-right:0}.panel-overlay.active::after{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);z-index:-1}.position-fixed-bottom{padding:12px;max-height:50vh;overflow-y:auto}.position-fixed-bottom .element-categories{margin-bottom:1rem}.position-fixed-bottom .element-category h4{font-size:0.9rem;margin-bottom:0.5rem}.viewport-mobile .element-grid{grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:8px}.viewport-mobile .element-item{padding:8px 6px;font-size:0.8rem;text-align:center}.viewport-mobile #simulation-controls{flex-wrap:wrap;gap:8px}.viewport-mobile #simulation-controls .btn,.viewport-mobile #simulation-controls .control-btn{flex:1 1 calc(50% - 4px);min-width:120px;font-size:0.85rem}.viewport-mobile .multiplier-buttons{gap:8px;margin-bottom:1rem}.viewport-mobile .multiplier-btn{flex:1;padding:10px;font-size:1rem;min-height:44px}}@media (min-width:769px) and (max-width:1024px){.viewport-tablet .element-grid{grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:10px}.viewport-tablet .element-item{padding:10px 8px;font-size:0.9rem}.viewport-tablet #simulation-controls .btn,.viewport-tablet #simulation-controls .control-btn{font-size:0.9rem;padding:8px 12px}.viewport-tablet .panel-collapsible{width:320px}.viewport-tablet .panel-collapsible.collapsed{width:60px}}@media (min-width:1025px){.viewport-desktop .element-grid{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px}.viewport-desktop .element-item{padding:12px 10px;font-size:1rem}.viewport-desktop .element-item:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,0.2)}.viewport-desktop .btn:hover,.viewport-desktop .control-btn:hover{transform:translateY(-1px)}}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.touch-friendly{border-width:0.5px}.element-item{border-width:0.5px}}@media (prefers-reduced-motion:reduce){.panel-overlay,.panel-collapsible,.touch-friendly::before{transition:none}}.touch-friendly:focus-visible{outline:2px solid #3b82f6;outline-offset:2px}@media (prefers-color-scheme:dark){.touch-friendly.touch-active::before{background:rgba(255,255,255,0.1)}}@media print{.panel-overlay,.position-fixed-bottom,.position-floating{display:none !important}}.adaptive-transition{transition:all 0.3s cubic-bezier(0.4,0,0.2,1)}.adaptive-fade-in{animation:adaptiveFadeIn 0.3s ease-out}.adaptive-slide-up{animation:adaptiveSlideUp 0.3s ease-out}@keyframes adaptiveFadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes adaptiveSlideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.adaptive-hidden-mobile{display:block}.adaptive-hidden-tablet{display:block}.adaptive-hidden-desktop{display:block}@media (max-width:768px){.adaptive-hidden-mobile{display:none !important}}@media (min-width:769px) and (max-width:1024px){.adaptive-hidden-tablet{display:none !important}}@media (min-width:1025px){.adaptive-hidden-desktop{display:none !important}}.secondary-control.hidden{display:none !important}.adaptive-loading{position:relative;overflow:hidden}.adaptive-loading::after{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient( 90deg,transparent,rgba(255,255,255,0.1),transparent );animation:adaptiveShimmer 1.5s infinite}@keyframes adaptiveShimmer{0%{left:-100%}100%{left:100%}}