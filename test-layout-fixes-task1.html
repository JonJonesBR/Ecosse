<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Layout Fixes - Task 1</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/layout-configuration.css">
    <style>
        /* Test styles to visualize layout structure */
        #left-panel { background-color: rgba(255, 0, 0, 0.2) !important; }
        #right-panel { background-color: rgba(0, 255, 0, 0.2) !important; }
        #top-panel { background-color: rgba(0, 0, 255, 0.2) !important; }
        #three-js-canvas-container { background-color: rgba(255, 255, 0, 0.2) !important; }
        #bottom-panel { background-color: rgba(255, 0, 255, 0.2) !important; }
        
        /* Add visual indicators for z-index testing */
        .z-index-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div id="app-container">
        <div id="left-panel" class="panel">
            <div class="z-index-indicator">Z: 20</div>
            <div class="panel-content">
                <h3>Left Panel</h3>
                <p>This panel should be positioned correctly on the left side with proper sizing (280px width).</p>
                <p>It should maintain its position and not interfere with the main content area.</p>
            </div>
        </div>

        <main id="main-content">
            <div id="top-panel">
                <div class="z-index-indicator">Z: 10</div>
                <h1>Top Panel - Should be at top of main content</h1>
            </div>

            <div id="three-js-canvas-container">
                <div class="z-index-indicator">Z: 15 (Container) / 16 (Canvas)</div>
                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: white;">
                    <h2>3D Canvas Container</h2>
                    <p>This should fill the remaining space below the top panel</p>
                    <p>Z-index should be above top panel (15 > 10)</p>
                    <p>Canvas element should have z-index 16</p>
                </div>
            </div>

            <div id="bottom-panel">
                <div class="z-index-indicator">Z: 200</div>
                <h3>Floating Controls Panel</h3>
                <p>This should float above the canvas without obstructing the view</p>
                <p>Should be positioned at bottom center with highest z-index</p>
                <div style="display: flex; gap: 10px; margin-top: 10px;">
                    <button style="padding: 8px 16px; background: #3b82f6; color: white; border: none; border-radius: 4px;">Test Button 1</button>
                    <button style="padding: 8px 16px; background: #10b981; color: white; border: none; border-radius: 4px;">Test Button 2</button>
                    <button style="padding: 8px 16px; background: #f59e0b; color: white; border: none; border-radius: 4px;">Test Button 3</button>
                </div>
            </div>
        </main>

        <div id="right-panel" class="panel">
            <div class="z-index-indicator">Z: 20</div>
            <div class="panel-content">
                <h3>Right Panel</h3>
                <p>This panel should be positioned correctly on the right side with proper sizing (280px width).</p>
                <p>It should maintain its position and not interfere with the main content area.</p>
            </div>
        </div>
    </div>

    <script>
        // Test script to verify layout behavior
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Layout Test - Task 1 Core CSS Fixes');
            
            // Test flexbox container setup
            const appContainer = document.getElementById('app-container');
            const computedStyle = window.getComputedStyle(appContainer);
            console.log('App Container Display:', computedStyle.display);
            console.log('App Container Flex Direction:', computedStyle.flexDirection);
            console.log('App Container Height:', computedStyle.height);
            
            // Test panel positioning and sizing
            const leftPanel = document.getElementById('left-panel');
            const rightPanel = document.getElementById('right-panel');
            const leftPanelStyle = window.getComputedStyle(leftPanel);
            const rightPanelStyle = window.getComputedStyle(rightPanel);
            console.log('Left Panel Width:', leftPanelStyle.width);
            console.log('Right Panel Width:', rightPanelStyle.width);
            console.log('Left Panel Z-Index:', leftPanelStyle.zIndex);
            console.log('Right Panel Z-Index:', rightPanelStyle.zIndex);
            
            // Test main content layout
            const mainContent = document.getElementById('main-content');
            const mainContentStyle = window.getComputedStyle(mainContent);
            console.log('Main Content Display:', mainContentStyle.display);
            console.log('Main Content Flex Direction:', mainContentStyle.flexDirection);
            console.log('Main Content Flex:', mainContentStyle.flex);
            
            // Test canvas container
            const canvasContainer = document.getElementById('three-js-canvas-container');
            const canvasStyle = window.getComputedStyle(canvasContainer);
            console.log('Canvas Container Z-Index:', canvasStyle.zIndex);
            console.log('Canvas Container Flex:', canvasStyle.flex);
            console.log('Canvas Container Position:', canvasStyle.position);
            
            // Test top panel
            const topPanel = document.getElementById('top-panel');
            const topPanelStyle = window.getComputedStyle(topPanel);
            console.log('Top Panel Z-Index:', topPanelStyle.zIndex);
            console.log('Top Panel Flex Shrink:', topPanelStyle.flexShrink);
            
            // Test bottom panel
            const bottomPanel = document.getElementById('bottom-panel');
            const bottomPanelStyle = window.getComputedStyle(bottomPanel);
            console.log('Bottom Panel Z-Index:', bottomPanelStyle.zIndex);
            console.log('Bottom Panel Position:', bottomPanelStyle.position);
            
            // Verify z-index hierarchy
            const zIndexes = {
                topPanel: parseInt(topPanelStyle.zIndex) || 0,
                canvasContainer: parseInt(canvasStyle.zIndex) || 0,
                leftPanel: parseInt(leftPanelStyle.zIndex) || 0,
                rightPanel: parseInt(rightPanelStyle.zIndex) || 0,
                bottomPanel: parseInt(bottomPanelStyle.zIndex) || 0
            };
            
            console.log('Z-Index Hierarchy:', zIndexes);
            
            // Verify canvas is above top panel
            if (zIndexes.canvasContainer > zIndexes.topPanel) {
                console.log('✅ Canvas container z-index is correctly above top panel');
            } else {
                console.log('❌ Canvas container z-index should be above top panel');
            }
            
            // Verify bottom panel is above everything
            if (zIndexes.bottomPanel > Math.max(zIndexes.canvasContainer, zIndexes.topPanel, zIndexes.leftPanel, zIndexes.rightPanel)) {
                console.log('✅ Bottom panel z-index is correctly above all other elements');
            } else {
                console.log('❌ Bottom panel z-index should be above all other elements');
            }
        });
    </script>
</body>
</html>